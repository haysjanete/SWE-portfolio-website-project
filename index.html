<!DOCTYPE html>
<html>
  <head>
    <title>Janete Hays SWE</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="src/background.scss" />
    <link rel="stylesheet" href="src/glass.scss" />
  <body>
    <!-- background -->
    <div id="app"></div>
    <div id="page">
      <div class="container home-page">
        <span class="tags top-tags">
          &lt;html&gt;<br />
          &nbsp;&nbsp;&nbsp;&lt;body&gt;
        </span>
        <span class="tags bottom-tags">
          &nbsp;&nbsp;&nbsp;&lt;/body&gt;<br />
          &lt;/html&gt;
        </span>
      </div>
    </div>
    <!-- welcome button -->
    <section class="welcome-btn-container" id="welcome-btn-cont">
      <button class="welcome-btn" onclick="openGlass('glasscontainer');hideButton('welcome-btn-cont')">Welcome!</button>
      <script>
        function hideButton(id) {
          const wbc = document.getElementById(id);
          if (wbc.style.display == 'flex') {
            wbc.style.display = "none";
          } else {
            wbc.style.display = "flex";
          }
        }
      </script>
      <script>
        function openGlass(id) {
          const gc = document.getElementById(id);
          if (gc.style.display == "none") {
            gc.style.display = "flex";
          } else {
            gc.style.display = "none";
          }
        }
      </script>
    </section>
    <!-- <main> -->
    <section class="glass" id="glasscontainer">
      <button class="dots" onclick="closeContainer('glasscontainer');glassBtn('welcome-btn-cont')" id="close-dot"></button>
      <script>
        function glassBtn(id) {
          const wbc= document.getElementById(id);
          if (wbc.style.display == "none") {
            wbc.style.display = "flex";
          } else {
            wbc.style.display = "none";
          }
        }
      </script>
      <script>
        function closeContainer(id) {
          const cd = document.getElementById(id);
          if (cd.style.display == "none") {
            cd.style.display = "flex";
          } else {
            cd.style.display = "none";
          }
        }
      </script>
      <nav>
        
      </nav>
      <div class="scrolle">
        <div>
          <h1 class="first">JaneteHays</h1>
          <p class="title">Software Engineer UI/UX Designer</p>
        </div>
        <!-- about me section -->
        <div class="rounded">
          <h2 class="second">About Me</h2>
          <p class="aboutme">
            I'm a Full-Stack Software Engineer who loves solving issues with code
            and making websites look unique as can be. I am known to be well
            organized and extremly creative. I tend to learn things quite fast and
            have a hunger for knowledge. I am interested
            in working with an ambitious team who is ready to personalize
            projects. If you would like to get to know me better or simply see
            what I am working on contact me <a href="#contactme">HERE</a>!
          
        <!-- Explanation in JS tab -->

          <!-- The two texts -->
            <div id="container">
              <span id="text1"></span>
              <span id="text2"></span>
            </div>

            <!-- The SVG filter used to create the merging effect -->
            <svg id="filters">
              <defs>
                <filter id="threshold">
                  <!-- Basically just a threshold effect - pixels with a high enough opacity are set to full opacity, and all other pixels are set to completely transparent. -->
                  <feColorMatrix in="SourceGraphic"
                      type="matrix"
                      values="1 0 0 0 0
                              0 1 0 0 0
                              0 0 1 0 0
                              0 0 0 255 -140" />
                </filter>
              </defs>
            </svg>
            </p>
        <script>
          const elts = {
            text1: document.getElementById("text1"),
            text2: document.getElementById("text2")
          };

          // The strings to morph between. You can change these to anything you want!
          const texts = [
            "Software Engineer",
            "Front-end",
            "Back-end",
            "Book-worm",
            "Video game Nerd",
            "and",
            "Coding Addict"
          ];

          // Controls the speed of morphing.
          const morphTime = 1;
          const cooldownTime = 0.25;

          let textIndex = texts.length - 1;
          let time = new Date();
          let morph = 0;
          let cooldown = cooldownTime;

          elts.text1.textContent = texts[textIndex % texts.length];
          elts.text2.textContent = texts[(textIndex + 1) % texts.length];

          function doMorph() {
            morph -= cooldown;
            cooldown = 0;
            
            let fraction = morph / morphTime;
            
            if (fraction > 1) {
              cooldown = cooldownTime;
              fraction = 1;
            }
            
            setMorph(fraction);
          }

          // A lot of the magic happens here, this is what applies the blur filter to the text.
          function setMorph(fraction) {
            // fraction = Math.cos(fraction * Math.PI) / -2 + .5;
            
            elts.text2.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
            elts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;
            
            fraction = 1 - fraction;
            elts.text1.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
            elts.text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;
            
            elts.text1.textContent = texts[textIndex % texts.length];
            elts.text2.textContent = texts[(textIndex + 1) % texts.length];
          }

          function doCooldown() {
            morph = 0;
            
            elts.text2.style.filter = "";
            elts.text2.style.opacity = "100%";
            
            elts.text1.style.filter = "";
            elts.text1.style.opacity = "0%";
          }

          // Animation loop, which is called every frame.
          function animate() {
            requestAnimationFrame(animate);
            
            let newTime = new Date();
            let shouldIncrementIndex = cooldown > 0;
            let dt = (newTime - time) / 1000;
            time = newTime;
            
            cooldown -= dt;
            
            if (cooldown <= 0) {
              if (shouldIncrementIndex) {
                textIndex++;
              }
              
              doMorph();
            } else {
              doCooldown();
            }
          }

          // Start the animation.
          animate();
        </script>
      </div>
        <!-- skills section -->
        <div class="rounded">
          <h2 class="skills">Skills</h2>
          <p class="pskills">
            Knowing both front-end and back-end was critical for me. I wanted to
            have as much knowledge as possible. I currently know Python,
            JavaScript, React.js, SASS, HTML, CSS, and am still expanding my
            skills. I tend to learn quickly and love finding out ways to recreate
            projects in different languages. Visit my <a href="https://www.linkedin.com/in/janete-hays/">LinkedIn</a> or simply take a peek
            at my <a href="#projects">projects</a>!
          </p>
          <div class="cont">
            <div class="slider"></div>
            <ul class="nav"></div>
            <div data-target='right' class="side-nav side-nav--right"></div>
            <div data-target='left' class="side-nav side-nav--left"></div>
          </div>
          <script>
            $(document).ready(function() {
              const $cont = $('.cont');
              const $slider = $('.slider');
              const $nav = $('.nav');
              const winW = $(window).width();
              const animSpd = 750; // Change also in CSS
              const distOfLetGo = winW * 0.2;
              let curSlide = 1;
              let animation = false;
              let autoScrollVar = true;
              let diff = 0;
              
              // Generating slides
              let arrCities = ['Amsterdam', 'Rome', 'Newâ€”York', 'Singapore', 'Prague']; // Change number of slides in CSS also
              let numOfCities = arrCities.length;
              let arrCitiesDivided = [];

              arrCities.map((city) => {
                let length = city.length;
                let letters = Math.floor(length / 4);
                let exp = new RegExp(".{1," + letters + "}", "g");
                
                arrCitiesDivided.push(city.match(exp));
              });
              
              let generateSlide = function(city) {
                let frag1 = $(document.createDocumentFragment());
                let frag2 = $(document.createDocumentFragment());
                const numSlide = arrCities.indexOf(arrCities[city]) + 1;
                const firstLetter = arrCitiesDivided[city][0].charAt(0);

                const $slide =
                      $(`<div data-target="${numSlide}" class="slide slide--${numSlide}">
                          <div class="slide__darkbg slide--${numSlide}__darkbg"></div>
                          <div class="slide__text-wrapper slide--${numSlide}__text-wrapper"></div>
                        </div>`);

                const letter = 
                      $(`<div class="slide__letter slide--${numSlide}__letter">
                          ${firstLetter}
                        </div>`);

                for (let i = 0, length = arrCitiesDivided[city].length; i < length; i++) {
                  const text = 
                        $(`<div class="slide__text slide__text--${i + 1}">
                            ${arrCitiesDivided[city][i]}
                          </div>`);
                  frag1.append(text);
                }

                const navSlide = $(`<li data-target="${numSlide}" class="nav__slide nav__slide--${numSlide}"></li>`);
                frag2.append(navSlide);
                $nav.append(frag2);

                $slide.find(`.slide--${numSlide}__text-wrapper`).append(letter).append(frag1);
                $slider.append($slide);

                if (arrCities[city].length <= 4) {
                  $('.slide--'+ numSlide).find('.slide__text').css("font-size", "12vw");
                }
              };

              for (let i = 0, length = numOfCities; i < length; i++) {
                generateSlide(i);
              }

              $('.nav__slide--1').addClass('nav-active');

              // Navigation
              function bullets(dir) {
                $('.nav__slide--' + curSlide).removeClass('nav-active');
                $('.nav__slide--' + dir).addClass('nav-active');
              }
              
              function timeout() {
                animation = false;
              }
              
              function pagination(direction) {
                animation = true;
                diff = 0;
                $slider.addClass('animation');
                $slider.css({
                  'transform': 'translate3d(-' + ((curSlide - direction) * 100) + '%, 0, 0)'
                });
                
                $slider.find('.slide__darkbg').css({
                    'transform': 'translate3d(' + ((curSlide - direction) * 50) + '%, 0, 0)'
                });
                
                $slider.find('.slide__letter').css({
                    'transform': 'translate3d(0, 0, 0)',
                });
                
                $slider.find('.slide__text').css({
                  'transform': 'translate3d(0, 0, 0)'
                });
              }
              
              function navigateRight() {
                if (!autoScrollVar) return;
                if (curSlide >= numOfCities) return;
                pagination(0);
                setTimeout(timeout, animSpd);
                bullets(curSlide + 1);
                curSlide++;
              }
              
              function navigateLeft() {
                if (curSlide <= 1) return;
                pagination(2);
                setTimeout(timeout, animSpd);
                bullets(curSlide - 1);
                curSlide--;
              }

              function toDefault() {
                pagination(1);
                setTimeout(timeout, animSpd);
              }
              
              // Events
              $(document).on('mousedown touchstart', '.slide', function(e) {
                if (animation) return;
                let target = +$(this).attr('data-target');
                let startX = e.pageX || e.originalEvent.touches[0].pageX;
                $slider.removeClass('animation');
                
                $(document).on('mousemove touchmove', function(e) {
                  let x = e.pageX || e.originalEvent.touches[0].pageX;
                  diff = startX - x;
                  if (target === 1 && diff < 0 || target === numOfCities && diff > 0) return;
                  
                  $slider.css({
                    'transform': 'translate3d(-' + ((curSlide - 1) * 100 + (diff / 30)) + '%, 0, 0)'
                  });
                  
                  $slider.find('.slide__darkbg').css({
                    'transform': 'translate3d(' + ((curSlide - 1) * 50 + (diff / 60)) + '%, 0, 0)'
                  });
                  
                  $slider.find('.slide__letter').css({
                    'transform': 'translate3d(' +  (diff / 60) + 'vw, 0, 0)',
                  });
                  
                  $slider.find('.slide__text').css({
                    'transform': 'translate3d(' + (diff / 15) + 'px, 0, 0)'
                  });
                })  
              })
              
              $(document).on('mouseup touchend', function(e) {
                $(document).off('mousemove touchmove');
                
                if (animation) return;
                
                if (diff >= distOfLetGo) {
                  navigateRight();
                } else if (diff <= -distOfLetGo) {
                  navigateLeft();
                } else {
                  toDefault();
                }
              });
              
              $(document).on('click', '.nav__slide:not(.nav-active)', function() {
                let target = +$(this).attr('data-target');
                bullets(target);
                curSlide = target;
                pagination(1);
              }); 
              
              $(document).on('click', '.side-nav', function() {
                let target = $(this).attr('data-target');
                
                if (target === 'right') navigateRight();
                if (target === 'left') navigateLeft();
              });
              
              $(document).on('keydown', function(e) {
                if (e.which === 39) navigateRight();
                if (e.which === 37) navigateLeft();
              });
              
              $(document).on('mousewheel DOMMouseScroll', function(e) {
                if (animation) return;
                let delta = e.originalEvent.wheelDelta;
                
                if (delta > 0 || e.originalEvent.detail < 0) navigateLeft();
                if (delta < 0 || e.originalEvent.detail > 0) navigateRight();
              });
            });
          </script>
        <!-- portfolio projects -->
        <div class="rounded">
          <h2 class="portfolio" id="projects">Portfolio Projects</h2>
          <p></p>
        </div>
        <!-- contact me page -->
        <div class="rounded">
          <h2 class="contactme" id="contactme">Contact Me</h2>
          <p class="cmstatement">
            If you are interested in a personal project do not hesitate to contact
            me to discuss what you are trying to achieve!
            
            Email: martinezjanete8@gmail.com
            Phone: 682-582-0843
            <a href="">
          </p>
        </div>
      </div>
    </section>
  </body>
</html>
